<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menú - La Panadería Gourmet</title>
    <link rel="stylesheet" href="styles.css">
    <script src="data.js"></script>
    <style>
        body {
            background: white;
            padding: 0;
        }

        .page-wrapper {
            display: flex;
            gap: 0;
            justify-content: center;
            align-items: flex-start;
            padding: 0.5rem;
        }

        .print-container {
            width: 5.8in;
            flex: 0 0 5.8in;
            padding: 0.35rem;
            border: 2px double #000;
            background: white;
        }

        header {
            text-align: center;
            margin-bottom: 0.3rem;
            border-bottom: 1px solid #000;
            padding-bottom: 0.2rem;
        }

        header h1 {
            font-size: 1.1rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.05rem;
        }

        header p {
            font-size: 0.65rem;
            font-style: italic;
            letter-spacing: 0.2px;
        }

        header img {
            max-width: 100px;
            height: auto;
            display: block;
            margin: 0 auto 0.15rem;
        }

        main {
            margin-top: 0.25rem;
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
        }

        .section-group {
            display: flex;
            gap: 0.2rem;
        }

        section {
            flex: 1;
            break-inside: avoid;
        }

        section h2 {
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            border-bottom: 1px solid #000;
            padding-bottom: 0.08rem;
            margin-bottom: 0.15rem;
            letter-spacing: 0.15px;
        }

        .menu-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.15rem;
            position: relative;
            align-items: baseline;
            gap: 0.15rem;
        }

        .item-name {
            flex: 0 0 auto;
            background: white;
            padding-right: 0.2rem;
            font-size: 0.75rem;
            z-index: 1;
            font-weight: 500;
        }

        .item-description {
            font-size: 0.6rem;
            color: #666;
            font-style: italic;
        }

        .dots {
            flex: 1 1 auto;
            border-bottom: 1px dotted #999;
            margin: 0.15rem 0.2rem;
            min-width: 10px;
        }

        .item-price {
            flex: 0 0 auto;
            background: white;
            padding-left: 0.2rem;
            font-weight: bold;
            font-size: 0.75rem;
            z-index: 1;
            white-space: nowrap;
        }

        .logo-placeholder {
            max-width: 100%;
            height: auto;
        }

        .back-link {
            text-align: center;
            margin-top: 0.8rem;
            padding-top: 0.5rem;
            border-top: 1px solid #000;
            font-size: 0.65rem;
        }

        .back-link a {
            color: #000;
            text-decoration: none;
            font-weight: bold;
        }

        /* Print Optimization */
        @media print {
            body {
                padding: 0;
                background: white;
                margin: 0;
            }

            .page-wrapper {
                display: flex;
                gap: 0.2in;
                justify-content: center;
                align-items: flex-start;
                padding: 0.15in;
                page-break-inside: avoid !important;
                page-break-after: avoid !important;
                page-break-before: avoid !important;
            }

            .print-container {
                border: 2px double #000;
                page-break-inside: avoid !important;
                page-break-after: avoid !important;
                width: 5.1in;
                flex: 0 0 5.1in;
                padding: 0.3rem;
            }

            header {
                margin-bottom: 0.25rem;
                padding-bottom: 0.15rem;
            }

            header h1 {
                font-size: 1rem;
                margin-bottom: 0.03rem;
            }

            header p {
                font-size: 0.6rem;
            }

            header img {
                max-width: 80px;
                margin-bottom: 0.1rem;
            }

            main {
                margin-top: 0.2rem;
            }

            .section-group {
                gap: 0.15rem;
            }

            section {
                page-break-inside: avoid;
            }

            section h2 {
                font-size: 0.75rem;
                margin-bottom: 0.12rem;
                padding-bottom: 0.06rem;
            }

            .menu-item {
                margin-bottom: 0.12rem;
                gap: 0.12rem;
            }

            .item-name {
                font-size: 0.7rem;
                padding-right: 0.15rem;
            }

            .item-description {
                font-size: 0.55rem;
            }

            .item-price {
                font-size: 0.7rem;
                padding-left: 0.15rem;
            }

            .dots {
                margin: 0.1rem 0.15rem;
            }

            .back-link {
                margin-top: 0;
                padding-top: 0;
                border: none;
                font-size: 0.6rem;
            }

            .no-print {
                display: none;
            }

            @page {
                size: A4 landscape;
                margin: 0.2in;
            }
        }
    </style>
</head>
<body>
    <div class="page-wrapper" id="pageWrapper"></div>

    <script>
        async function loadPrintMenu() {
            try {
                // Menu data is now loaded from data.js (global menuData and sectionOrder)
                
                // Function to create a single menu container
                function createMenuContainer() {
                    const container = document.createElement('div');
                    container.className = 'print-container';
                    
                    // Header
                    const header = document.createElement('header');
                    
                    const logo = document.createElement('img');
                    logo.src = 'Panaderia.png';
                    logo.alt = 'La Panadería Gourmet';
                    logo.className = 'logo-placeholder';
                    header.appendChild(logo);
                    
                    const title = document.createElement('h1');
                    title.textContent = 'La Panadería Gourmet';
                    header.appendChild(title);
                    
                    const slogan = document.createElement('p');
                    slogan.textContent = 'DISFRUTA NUESTROS PRODUCTOS';
                    header.appendChild(slogan);
                    
                    container.appendChild(header);
                    
                    // Main content - two column layout
                    const main = document.createElement('main');
                    
                    // Create sections in 2-column groups
                    for (let i = 0; i < sectionOrder.length; i += 2) {
                        const sectionGroup = document.createElement('div');
                        sectionGroup.className = 'section-group';
                        
                        // Left column section
                        const section1 = createSection(sectionOrder[i], menuData[sectionOrder[i]]);
                        sectionGroup.appendChild(section1);
                        
                        // Right column section (if exists)
                        if (i + 1 < sectionOrder.length) {
                            const section2 = createSection(sectionOrder[i + 1], menuData[sectionOrder[i + 1]]);
                            sectionGroup.appendChild(section2);
                        }
                        
                        main.appendChild(sectionGroup);
                    }
                    
                    container.appendChild(main);
                    
                    // Back link
                    const backLink = document.createElement('div');
                    backLink.className = 'back-link no-print';
                    const link = document.createElement('a');
                    link.href = 'index.html';
                    link.textContent = '← Volver';
                    backLink.appendChild(link);
                    container.appendChild(backLink);
                    
                    return container;
                }
                
                // Helper function to create a section
                function createSection(sectionName, items) {
                    const sectionEl = document.createElement('section');
                    
                    const heading = document.createElement('h2');
                    heading.textContent = sectionName;
                    sectionEl.appendChild(heading);
                    
                    // Add items
                    items.forEach(item => {
                        const itemEl = document.createElement('div');
                        itemEl.className = 'menu-item';
                        
                        const nameEl = document.createElement('span');
                        nameEl.className = 'item-name';
                        nameEl.innerHTML = item.item;
                        if (item.description && item.description.length > 0) {
                            nameEl.innerHTML += `<span class="item-description">(${item.description})</span>`;
                        }
                        itemEl.appendChild(nameEl);
                        
                        const dotsEl = document.createElement('span');
                        dotsEl.className = 'dots';
                        itemEl.appendChild(dotsEl);
                        
                        const priceEl = document.createElement('span');
                        priceEl.className = 'item-price';
                        priceEl.textContent = '$' + item.price;
                        itemEl.appendChild(priceEl);
                        
                        sectionEl.appendChild(itemEl);
                    });
                    
                    return sectionEl;
                }
                
                // Create two menu containers for A4 landscape layout
                const pageWrapper = document.getElementById('pageWrapper');
                pageWrapper.appendChild(createMenuContainer());
                pageWrapper.appendChild(createMenuContainer());
                
            } catch (error) {
                console.error('Error loading menu:', error);
                document.getElementById('pageWrapper').innerHTML = '<p>Error loading menu data</p>';
            }
        }
        
        loadPrintMenu();
    </script>
</body>
</html>
